<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Dashboard - Monitoramento Ambiental Residencial</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <header>
        <h1>ğŸ  Monitoramento Ambiental Residencial</h1>
        <div id="status-api" class="status offline">API: Verificando...</div>
    </header>

    <main>
        <!-- SEÃ‡ÃƒO 1: FORMULÃRIO DE SIMULAÃ‡wÃƒO -->
        <section class="card">
            <h2>ğŸ“Š Simulador de Sensores</h2>
            <form id="sensor-form" action="api/sensor-data.php" method="POST">
                <div class="form-group">
                    <label>ID do Sensor:</label>
                    <input type="text" name="sensor_id" value="AMB_SALA_01" required>
                </div>

                <div class="form-group">
                    <label>Temperatura (Â°C):</label>
                    <input type="number" name="temperatura" step="0.1" 
                           min="-40" max="80" value="23.5" required>
                    <small>Faixa: -40 a 80 Â°C</small>
                </div>
                <div class="form-group">
                    <label>Umidade (%):</label>
                    <input type="number" name="umidade" step="0.1" 
                           min="0" max="100" value="60" required>
                    <small>Faixa: 0 a 100 %</small>
                </div>
                <div class="form-group">
                    <label>CO2 (PPM):</label>
                    <input type="number" name="co2" step="1" 
                           min="0" max="5000" value="450" required>
                    <small>Faixa: 0 a 5000 PPM</small>
                </div>
                <div class="form-group">
                    <label>Luminosidade (lux):</label>
                    <input type="number" name="luminosidade" step="1" 
                           min="0" max="65535" value="350" required>
                    <small>Faixa: 0 a 65535 lux</small>
                </div>

                <button type="submit" class="btn-primary">ğŸ“¤ Enviar Leitura</button>
                <button type="button" class="btn-secondary" onclick="gerarDadosAleatorios()">ğŸ² Gerar Dados AleatÃ³rios</button>
            </form>
        </section>

        <!-- SEÃ‡ÃƒO 2: MONITOR EM TEMPO REAL -->
        <section class="card">
            <h2>ğŸ“º Monitor em Tempo Real</h2>
            <div class="monitor-grid">
                <div class="monitor-card" id="temperatura-card">
                    <div class="icon">ğŸŒ¡ï¸</div>
                    <div class="label">Temperatura</div>
                    <div class="value" id="temperatura-valor">--</div>
                    <div class="status" id="temperatura-status">Aguardando...</div>
                </div>
                <div class="monitor-card" id="umidade-card">
                    <div class="icon">ğŸ’§</div>
                    <div class="label">Umidade</div>
                    <div class="value" id="umidade-valor">--</div>
                    <div class="status" id="umidade-status">Aguardando...</div>
                </div>
                <div class="monitor-card" id="co2-card">
                    <div class="icon">ğŸŒ«ï¸</div>
                    <div class="label">CO2</div>
                    <div class="value" id="co2-valor">--</div>
                    <div class="status" id="co2-status">Aguardando...</div>
                </div>
                <div class="monitor-card" id="luminosidade-card">
                    <div class="icon">ğŸ’¡</div>
                    <div class="label">Luminosidade</div>
                    <div class="value" id="luminosidade-valor">--</div>
                    <div class="status" id="luminosidade-status">Aguardando...</div>
                </div>
            </div>
        </section>

        <!-- SEÃ‡ÃƒO 3: HISTÃ“RICO -->
        <section class="card">
            <h2>ğŸ“‹ HistÃ³rico de Leituras</h2>
            <div class="historico-controles">
                <button class="btn-secondary" onclick="carregarHistorico()">ğŸ”„ Atualizar</button>
                <button class="btn-danger" onclick="limparDados()">ğŸ—‘ï¸ Limpar Dados</button>
            </div>
            <div id="historico-list"></div>
        </section>
    </main>

    <script src="js/dashboard.js"></script>
</body>
</html>